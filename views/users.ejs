<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %> - VRCIM</title>
    <link rel="stylesheet" href="/css/common.css">
    <link rel="stylesheet" href="/css/<%= pageCSS %>">
</head>
<body>
    <%- include('partials/header') %>
    
    <main>
        <div class="container">
            <header class="page-header">
                <h1>üìã Cached Users</h1>
                <p>All VRChat users you've encountered</p>
            </header>

            <div class="stats-summary">
                <div class="stat-card">
                    <div class="stat-label">Total Cached Users</div>
                    <div class="stat-value" id="totalUsers">0</div>
                </div>
            </div>

            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="üîç Search by username or display name...">
            </div>

            <div class="filter-tabs">
                <button class="filter-tab active" data-filter="all">All Users</button>
                <button class="filter-tab" data-filter="visitor">Visitors</button>
                <button class="filter-tab" data-filter="new-user">New Users</button>
                <button class="filter-tab" data-filter="user">Users</button>
                <button class="filter-tab" data-filter="known-user">Known Users</button>
                <button class="filter-tab" data-filter="trusted-user">Trusted Users</button>
                <button class="filter-tab" data-filter="veteran-user">Veteran Users</button>
                <button class="filter-tab" data-filter="legendary-user">Legendary Users</button>
            </div>

            <div id="content" class="content">
                <!-- Loading State -->
                <div id="loading-state" class="loading">Loading users...</div>
                
                <!-- Error State -->
                <div id="error-state" class="error" style="display: none;">
                    <h2>Error Loading Users</h2>
                    <p id="error-message"></p>
                    <div style="margin-top: 20px;">
                        <button id="retry-button" class="btn">Retry</button>
                    </div>
                </div>
                
                <!-- No Results State -->
                <div id="no-results-state" class="no-results" style="display: none;">
                    <p>No users found.</p>
                    <p style="margin-top: 10px; font-size: 14px;" id="no-results-hint"></p>
                </div>
                
                <!-- Users Grid (populated by JavaScript) -->
                <div id="users-grid" class="users-grid" style="display: none;"></div>
            </div>

            <div id="pagination" class="pagination" style="display: none;">
                <button id="prevPage">‚Üê Previous</button>
                <span id="pageInfo">Page 1 of 1</span>
                <button id="nextPage">Next ‚Üí</button>
            </div>
        </div>
    </main>
    
    <%- include('partials/footer') %>
    
    <script src="/js/config.js"></script>
    <script src="/js/common.js"></script>
    <script src="/js/<%= pageJS %>"></script>
</body>
</html>
